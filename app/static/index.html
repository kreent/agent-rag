<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agente de B√∫squeda RAG</title>
  <meta name="description" content="Consulta informaci√≥n procesada por inteligencia artificial.">
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü§ñ</text></svg>">
  <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-section">
        <h3 class="sidebar-title">FUENTES DE DATOS</h3>
        <div class="source-item">
          <div class="source-icon">
            <img src="/static/documentos-internos.png" alt="Docs" class="source-icon-img">
          </div>
          <div class="source-info">
            <strong>Documentos Internos</strong>
            <span>Cargando...</span>
          </div>
        </div>
        <div class="source-item">
          <div class="source-icon">
            <img src="/static/api.png" alt="API" class="source-icon-img">
          </div>
          <div class="source-info">
            <strong>Datos de API</strong>
            <span>Indexados y actualizados</span>
          </div>
        </div>
        <div class="source-item">
          <div class="source-icon">
            <img src="/static/base.png" alt="Base" class="source-icon-img">
          </div>
          <div class="source-info">
            <strong>Base de Conocimiento</strong>
            <span>B√∫squeda sem√°ntica activa</span>
          </div>
        </div>
      </div>

      <div class="sidebar-section">
        <h3 class="sidebar-title">CONSULTAS RECIENTES</h3>
        <ul class="recent-list" id="recentList">
          <li class="recent-empty">A√∫n no hay consultas</li>
        </ul>
      </div>

      <button class="btn-new-chat" id="newChatBtn">
        <span>+</span> Nuevo Chat
      </button>
    </aside>

    <!-- Mobile sidebar toggle -->
    <button class="sidebar-toggle" id="sidebarToggle">‚ò∞</button>
    <!-- Mobile sidebar overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Main Content -->
    <main class="main">
      <!-- Header -->
      <header class="main-header">
        <h1>Agente de B√∫squeda RAG</h1>
        <p>Consulta informaci√≥n t√©cnica procesada por inteligencia artificial.</p>
      </header>

      <!-- Chat Area -->
      <div class="chat-area" id="chatArea">
        <div class="messages" id="messages">
          <!-- Welcome message from agent -->
          <div class="message agent">
            <div class="message-avatar"><img src="/static/avatar.png" alt="Bot" class="avatar-img"></div>
            <div class="message-bubble">
              <p>¬°Hola! Soy el asistente inteligente. ¬øEn qu√© puedo ayudarte hoy? Puedo buscar informaci√≥n en documentos
                internos y datos indexados desde APIs externas.</p>
            </div>
          </div>
        </div>

        <!-- Typing Indicator -->
        <div class="typing-indicator" id="typingIndicator">
          <div class="message-avatar">ü§ñ</div>
          <div class="typing-dots">
            <span></span><span></span><span></span>
          </div>
        </div>
      </div>

      <!-- Input Area -->
      <div class="input-area">
        <div class="input-container">
          <textarea id="chatInput" placeholder="Escribe tu consulta aqu√≠..." rows="1"></textarea>
          <button class="btn-send" id="sendBtn" title="Enviar">‚û§</button>
        </div>
        <div class="input-actions">
          <button class="action-link" id="regenerateBtn" style="display:none">‚Üª Re-generar respuesta</button>
        </div>
      </div>

      <!-- Suggestions Bar -->
      <div class="suggestions-bar">
        <span class="suggestions-label">SUGERENCIAS R√ÅPIDAS:</span>
        <div class="suggestions">
          <button class="suggestion">¬øQu√© documentos tienes?</button>
          <button class="suggestion">¬øCu√°l es el organigrama?</button>
          <button class="suggestion">Buscar informaci√≥n sobre alertas</button>
          <button class="suggestion">¬øQu√© sabes del hurac√°n Beryl?</button>
          <button class="suggestion">¬øSabes las alertas hidrol√≥gicas del 4 de julio del 2024?</button>
        </div>
        <button class="btn-theme-toggle" id="themeToggle" title="Modo oscuro">üåô</button>
      </div>
    </main>
  </div>

  <!-- Error Toast -->
  <div class="error-toast" id="errorToast"></div>

  <script src="/static/chat.js"></script>
</body>

</html>